#:import Factory kivy.factory.Factory
#:set color_button (0, 0, 0, .5)
#:set color_button_pressed (0, 0, 0, .35)
<MySpinnerOption@SpinnerOption>:
    background_color: color_button if self.state == 'down' else color_button_pressed


<AddTrashWindow>:
    name: 'addtrash'

    MDBoxLayout:
        pos_hint: {"center_x": .5, "center_y": .965}
        size_hint: 1, .08
        Button:
            text: "Profil"
            background_color: (.0, .0, .0, .45)
            font_size: 0.32 * self.height
            on_press:
                app.root.current = 'profile'
                root.remove_item()
        Button:
            text: "Vložit odpad"
            background_color: (.0, .0, .0, .6)
            font_size: 0.32 * self.height
            on_press:
                app.root.current = 'addtrash'
        Button:
            text: "Odvoz odpadu"
            background_color: (.0, .0, .0, .45)
            font_size: 0.32 * self.height
            on_press:
                app.root.current = 'odvoz'
                root.remove_item()
        Button:
            text: "Historie"
            background_color: (.0, .0, .0, .45)
            font_size: 0.32 * self.height
            on_press:
                app.root.current = 'history'
                root.remove_item()
        Image:
            source: 'obrazky/logo.png'
            background_color: (.0, .0, .0, .45)

    BoxLayout:
        spacing:15
        size_hint: .32, .05
        pos_hint: {"center_x": .75,"center_y": .75}
        MDLabel:
            size_hint_x: .28
            halign: 'right'
            text: "Množství"
            font_size: 0.53 * self.height

        MDTextFieldRect:
            id: Add_trash_pole_mnozstvi
            halign: "center"
            text: "0"
            font_size: 0.6 * self.height
            size_hint_x: .5
        Spinner:
            size_hint_y: 1.1
            size_hint_x: .22
            id: drop_item
            text: "g"
            values: ["g","dg","kg"]
            font_size: 0.5 * self.height
            sync_height: True
            background_color: color_button if self.state == 'normal' else color_button_pressed
            option_cls: Factory.get("MySpinnerOption")

    ScrollView:
        size_hint: .45, .63
        pos_hint: {"center_x": .3, "center_y": .53}
        bar_inactive_color: 0, 0, 0, .6
        effect_cls: "ScrollEffect"
        bar_width: 20
        scroll_type: ['bars']
        MDList:
            id: container

    MDRoundFlatButton:
        text: "Vložit"
        size_hint: .2,.07
        font_size: 0.4 * self.height
        pos_hint: {"center_x": .76, "center_y": .2}
        on_press:
            root.trash_successfulAdd()

    MDTextFieldRect:
        id: vybrany_odpad
        readonly: True
        halign: "left"
        font_size: 0.57 * self.height
        size_hint: .38, .05
        pos_hint: {"center_x": .75, "center_y": .3}

    MDLabel:
        id: Add_error_mess_Trash
        theme_text_color: "Custom"
        text_color: 1,0,0,1
        font_size: 0.1 * self.height
        halign: "left"
        size_hint: .2, .2
        pos_hint: {"center_x": .9, "center_y": .3}

    MDLabel:
        id: Add_error_mess_Vaha
        theme_text_color: "Custom"
        text_color: 1,0,0,1
        font_size: 0.1 * self.height
        halign: "left"
        size_hint: .2, .2
        pos_hint: {"center_x": .84, "center_y": .70}

    Image:
        source: 'obrazky/line3.png'
        size_hint_x: 1
        pos_hint: {"center_x": .5, "center_y": .09}