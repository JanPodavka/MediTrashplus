<RegistrationWindow>:
    name:"registrace"

    MDCard:
        pos_hint: {"center_x": .5, "center_y": .5}
        size_hint: .8, .8
        elevation: 10
        padding: 10
        BoxLayout:
            orientation: "vertical"
            pos_hint: {"center_x": .5, "center_y": .5}
            size_hint: 1, 1
            BoxLayout:
                orientation: "vertical"
                BoxLayout:
                    pos_hint: {"center_x": .5, "center_y": .5}
                    size_hint_y: .3
                    Image:
                        source: 'obrazky/cover.png'
                        allow_stretch: True
                        pos_hint: {"center_x": .5, "center_y": .4}

                BoxLayout:
                    orientation: "horizontal"
                    spacing: 20
                    size_hint: 1, .6
                    pos_hint: {"center_x": .5, "center_y": .5}
                    BoxLayout:
                        size_hint: .22,1
                        pos_hint: {"center_x": 0, "center_y": .5}
                        spacing:20
                        orientation: "vertical"
                        MDLabel:
                            text: "Jméno"
                            halign: "right"
                            size_hint: 1, .8
                            pos_hint: {"center_x": .5, "center_y": .5}
                        MDLabel:
                            text: "IČO"
                            halign: "right"
                            size_hint: 1, .8
                            pos_hint: {"center_x": .5, "center_y": .5}
                        MDLabel:
                            text: "Adresa"
                            halign: "right"
                            size_hint: 1, .8
                            pos_hint: {"center_x": .5, "center_y": .5}
                        MDLabel:
                            text: "Telefon"
                            halign: "right"
                            size_hint: 1, .8
                            pos_hint: {"center_x": .5, "center_y": .5}
                        MDLabel:
                            text: "Heslo"
                            halign: "right"
                            size_hint: 1, .8
                            pos_hint: {"center_x": .5, "center_y": .5}
                        MDLabel:
                            text: "Heslo znovu"
                            halign: "right"
                            size_hint: 1, .8
                            pos_hint: {"center_x": .5, "center_y": .5}
                    BoxLayout:
                        spacing:20
                        size_hint: .4,1
                        pos_hint: {"center_x": .2, "center_y": .5}
                        orientation: "vertical"
                        MDTextFieldRect:
                            id: reg_name
                            font_size: 0.65 * self.height
                            size_hint: 1, .8
                            pos_hint: {"center_x": .5, "center_y": .5}
                        MDTextFieldRect:
                            id: reg_ico
                            font_size: 0.65 * self.height
                            size_hint: 1, .8
                            max_text_length: 9
                            pos_hint: {"center_x": .5, "center_y": .5}
                        MDTextFieldRect:
                            id: reg_address
                            font_size: 0.65 * self.height
                            size_hint: 1, .8
                            pos_hint: {"center_x": .5, "center_y": .5}
                        MDTextFieldRect:
                            id: reg_number
                            font_size: 0.65 * self.height
                            size_hint: 1, .8
                            pos_hint: {"center_x": .5, "center_y": .5}
                        MDTextFieldRect:
                            id: reg_password
                            password: True
                            font_size: 0.65 * self.height
                            size_hint: 1, .8
                            pos_hint: {"center_x": .5, "center_y": .5}
                        MDTextFieldRect:
                            password: True
                            id: reg_password_check
                            font_size: 0.65 * self.height
                            size_hint: 1, .8
                            pos_hint: {"center_x": .5, "center_y": .5}
                    BoxLayout:
                        spacing:20
                        size_hint: .2,1
                        pos_hint: {"center_x": .6, "center_y": .5}
                        orientation: "vertical"
                        MDLabel:
                            id: reg_error_name
                            theme_text_color: "Custom"
                            text_color: 1,0,0,1
                            font_size: 0.40 * self.height
                            halign: "left"
                            size_hint: 1, .8
                            pos_hint: {"center_x": .5, "center_y": .5}
                        MDLabel:
                            id: reg_error_ico
                            theme_text_color: "Custom"
                            text_color: 1,0,0,1
                            font_size: 0.40 * self.height
                            halign: "left"
                            size_hint: 1, .8
                            pos_hint: {"center_x": .5, "center_y": .5}
                        MDLabel:
                            id: reg_error_address
                            theme_text_color: "Custom"
                            text_color: 1,0,0,1
                            font_size: 0.40 * self.height
                            halign: "left"
                            size_hint: 1, .8
                            pos_hint: {"center_x": .5, "center_y": .5}
                        MDLabel:
                            id: reg_error_number
                            theme_text_color: "Custom"
                            text_color: 1,0,0,1
                            font_size: 0.40 * self.height
                            halign: "left"
                            size_hint: 1, .8
                            pos_hint: {"center_x": .5, "center_y": .5}
                        MDLabel:
                            id: reg_error_password
                            theme_text_color: "Custom"
                            text_color: 1,0,0,1
                            font_size: 0.40 * self.height
                            text: ""
                            halign: "left"
                            size_hint: 1, .8
                            pos_hint: {"center_x": .5, "center_y": .5}
                        MDLabel:
                            id: reg_error_password_check
                            theme_text_color: "Custom"
                            text_color: 1,0,0,1
                            font_size: 0.40 * self.height
                            halign: "left"
                            size_hint: 1, .8
                            pos_hint: {"center_x": .5, "center_y": .5}

                BoxLayout:
                    size_hint: 1, .2
                    pos_hint: {"center_x": 1.1, "center_y": .5}

                    MDFlatButton:
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}
                        text_color: 0, 0, 0, 1
                        text: 'Zpět'
                        on_press:
                            root.reg_clear_label()
                            root.reg_clear_error()
                            app.root.current = "login"

                    MDRaisedButton:
                        pos_hint: {"center_x": 0.75, "center_y": 0.5}
                        text_color: 0, 0, 0, 1
                        text: 'Registrace'
                        on_press:
                            root.reg_clear_error()
                            valid = root.reg_check()
                            if (valid == 1):\
                            root.reg_clear_label()
                            if (valid == 1):\
                            app.root.current = "login"
                            if (valid == 1):\
                            root.show_alert_reg()


